<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Netronome - Multi-Timer</title>
    <link rel="stylesheet" href="/index.css" />
    <style>
        .multi-timer-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .timer-card {
            background: var(--panel-bg);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            padding: 15px;
        }

        .timer-card-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 12px;
        }

        .timer-color-indicator {
            width: 12px;
            height: 12px;
            border-radius: 2px;
        }

        .timer-card-title {
            flex: 1;
            font-weight: bold;
            font-size: 14px;
        }

        .timer-controls-row {
            display: flex;
            gap: 8px;
            margin-bottom: 10px;
            flex-wrap: wrap;
        }

        .timer-control-group {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .timer-control-group label {
            font-size: 11px;
            color: var(--text-secondary);
        }

        .timer-control-group input,
        .timer-control-group select {
            padding: 6px;
            font-size: 12px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            background: var(--input-bg);
            color: var(--text-color);
        }

        .timer-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            margin-top: 10px;
        }

        .timer-stat {
            background: var(--stat-bg);
            padding: 8px;
            border-radius: 4px;
            font-size: 12px;
        }

        .timer-stat-label {
            color: var(--text-secondary);
            font-size: 10px;
        }

        .timer-stat-value {
            font-weight: bold;
            font-size: 14px;
            margin-top: 2px;
        }

        .timer-actions {
            display: flex;
            gap: 6px;
            margin-top: 10px;
        }

        .timer-actions button {
            flex: 1;
            padding: 6px;
            font-size: 11px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            background: var(--button-bg);
            color: var(--button-text);
            transition: background 0.2s;
        }

        .timer-actions button:hover {
            background: var(--button-hover);
        }

        .timer-actions button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .timer-actions button.remove {
            background: #ff6b6b;
        }

        .add-timer-btn {
            width: 100%;
            padding: 12px;
            margin-bottom: 20px;
            background: var(--primary-color, #4ECDC4);
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            cursor: pointer;
            font-weight: bold;
        }

        .add-timer-btn:hover {
            background: var(--primary-hover, #45B7D1);
        }

        @media (max-width: 1200px) {
            .multi-timer-container {
                grid-template-columns: 1fr;
            }
        }

        :root {
            --panel-bg: #ffffff;
            --border-color: #e0e0e0;
            --text-color: #333333;
            --text-secondary: #666666;
            --input-bg: #f5f5f5;
            --stat-bg: #f9f9f9;
            --button-bg: #4ECDC4;
            --button-text: white;
            --button-hover: #45B7D1;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --panel-bg: #2a2a2a;
                --border-color: #444444;
                --text-color: #e0e0e0;
                --text-secondary: #999999;
                --input-bg: #1e1e1e;
                --stat-bg: #333333;
                --button-bg: #4ECDC4;
                --button-text: #000000;
                --button-hover: #45B7D1;
            }
        }
    </style>
</head>

<body>
    <button class="theme-toggle" id="theme-toggle">ðŸŒ™ Dark</button>
    <main>
        <div class="header">
            <svg class="logo" width="100%" height="100%" viewBox="0 0 4267 4267" version="1.1"
                xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve"
                xmlns:serif="http://www.serif.com/"
                style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
                <g transform="matrix(4.84171,0,0,4.84171,-343.783,21.3232)">
                    <path
                        fill="currentColor"
                        d="M496.436,776L104.603,776C104.603,776 498.908,91.454 500,92.406L499.793,323.733C503.643,323.545 507.517,323.45 511.413,323.45C515.566,323.45 519.693,323.558 523.793,323.771L524,92.837L918.636,776L526.804,776C521.784,776.321 516.721,776.483 511.62,776.483C506.519,776.483 501.456,776.321 496.436,776ZM499.62,323.844C384.942,330.082 293.743,425.172 293.743,541.395C293.743,661.645 391.371,759.272 511.62,759.272C631.869,759.272 729.497,661.645 729.497,541.395C729.497,425.172 638.298,330.082 523.62,323.844L523.62,514.583C534.172,519.207 541.54,529.745 541.54,542.004C541.54,558.533 528.151,571.919 511.625,571.919C495.098,571.919 481.7,558.533 481.7,542.004C481.7,529.748 489.07,519.212 499.62,514.586L499.62,323.844ZM523.62,56.862C523.62,63.489 518.246,68.863 511.619,68.863C504.994,68.863 499.62,63.489 499.62,56.862C499.62,50.236 504.994,44.863 511.619,44.863C518.246,44.863 523.62,50.236 523.62,56.862Z" />
                </g>
            </svg>

            <div class="header-text">
                <h1>Netronome - Multi-Timer</h1>
                <p class="subtitle">Run multiple timers at different tempos and compare performance</p>
            </div>
        </div>

        <!-- Global Controls -->
        <div class="panel">
            <div class="panel-title">Global Controls</div>
            <div class="button-group">
                <button id="start-all">Start All</button>
                <button id="stop-all" disabled>Stop All</button>
                <button id="reset-all">Reset All</button>
            </div>
        </div>

        <!-- Add Timer Button -->
        <button class="add-timer-btn" id="add-timer">+ Add Timer</button>

        <!-- Timers Container -->
        <div class="multi-timer-container" id="timers-container">
            <!-- Timer cards will be inserted here -->
        </div>

        <!-- Performance Chart -->
        <div class="panel">
            <div class="panel-title">Performance Comparison</div>
            <div class="chart-container">
                <canvas id="multi-timer-chart"></canvas>
            </div>
        </div>

        <!-- Statistics Table -->
        <div class="panel">
            <div class="panel-title">Timer Statistics</div>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Timer</th>
                            <th>Status</th>
                            <th>BPM</th>
                            <th>Avg Lag (ms)</th>
                            <th>Avg Drift (ms)</th>
                            <th>Ticks</th>
                        </tr>
                    </thead>
                    <tbody id="stats-table">
                        <tr class="empty-state">
                            <td colspan="6">Add timers to begin comparison</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </main>

    <script type="module" src="./tests/multi-timer-frontend.ts"></script>
</body>

</html>
